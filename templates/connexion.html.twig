{% extends 'base.html.twig' %}

{% block title %}Connexion | Inscription{% endblock %}

{% block body %}
<div class="container d-flex justify-content-center align-items-center vh-100">
    <div class="card p-4 shadow-lg" style="width: 400px;">
        <h2 class="text-center mb-4" id="form-title">Connexion</h2>

        <!-- Formulaire de Connexion -->
        <form id="login-form" method="post">
            <div class="mb-3">
                <label for="username" class="form-label">Identifiant</label>
                <input type="text" id="username" name="username" class="form-control" required>
            </div>

            <div class="mb-3">
                <label for="password" class="form-label">Mot de passe</label>
                <input type="password" id="password" name="password" class="form-control" required>
            </div>

            <button type="submit" class="btn btn-primary w-100">Se connecter</button>
            <p class="text-center mt-3">
                Pas encore inscrit ? <a href="#" id="show-register">Créer un compte</a>
            </p>
        </form>

        <!-- Formulaire d'Inscription (caché par défaut) -->
        <form id="register-form" method="post" style="display: none;">
            <div class="mb-3">
                <label for="nom" class="form-label">Nom</label>
                <input type="text" id="nom" name="nom" class="form-control" required>
            </div>

            <div class="mb-3">
                <label for="prenom" class="form-label">Prénom</label>
                <input type="text" id="prenom" name="prenom" class="form-control" required>
            </div>

            <div class="mb-3">
                <label for="pseudo" class="form-label">Pseudo</label>
                <input type="text" id="" name="pseudo" class="form-control" required>
            </div>

            <div class="mb-3">
                <label for="adresse" class="form-label">Adresse</label>
                <input type="text" id="adresse" name="adresse" class="form-control" autocomplete="street-address" required>
            </div>
        
            <div class="row">
                <div class="col-md-4 mb-3">
                    <label for="code_postal" class="form-label">Code Postal</label>
                    <input type="text" id="code_postal" name="code_postal" class="form-control" pattern="\d{5}" required>
                </div>
            
                <div class="col-md-5 mb-3">
                    <label for="ville" class="form-label">Ville</label>
                    <input type="text" id="ville" name="ville" class="form-control" required>
                </div>

            <div class="mb-3">
                <label for="telephone" class="form-label">Téléphone</label>
                <input type="tel" id="telephone" name="telephone" class="form-control" pattern="^(\+?\d{1,3}[- ]?)?\d{10}$" required>
            </div>
        
            <div class="mb-3">
                <label for="date_naissance" class="form-label">Date de naissance</label>
                <input type="date" id="date_naissance" name="date_naissance" class="form-control" required>
            </div>        

            <div class="mb-3">
                <label for="email" class="form-label">Email</label>
                <input type="email" id="email" name="email" class="form-control" required>
            </div>

            <div class="mb-3">
                <label for="password1" class="form-label">Mot de passe</label>
                <input type="password" id="password1" name="password1" class="form-control" required>
            </div>

            <div class="mb-3">
                <label for="password2" class="form-label">Confirmer le mot de passe</label>
                <input type="password" id="password2" name="password2" class="form-control" required>
            </div>

            <button type="submit" class="btn btn-success w-100">S'inscrire</button>
            <p class="text-center mt-3">
                Déjà un compte ? <a href="#" id="show-login">Se connecter</a>
            </p>
        </form>
    </div>
</div>

<script>
    document.getElementById("show-register").addEventListener("click", function(event) {
        event.preventDefault();
        document.getElementById("login-form").style.display = "none";
        document.getElementById("register-form").style.display = "block";
        document.getElementById("form-title").textContent = "Inscription";
    });

    document.getElementById("show-login").addEventListener("click", function(event) {
        event.preventDefault();
        document.getElementById("register-form").style.display = "none";
        document.getElementById("login-form").style.display = "block";
        document.getElementById("form-title").textContent = "Connexion";
    });
</script>
{% endblock %}
